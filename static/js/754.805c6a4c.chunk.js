"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[754],{713:function(e,r,t){t.d(r,{Df:function(){return h},HO:function(){return l},Ku:function(){return v},Pg:function(){return m},fI:function(){return f}});var n=t(861),a=t(757),i=t.n(a),s=t(340),c="0254d5a3dced2c998ec5b5a910260705",o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMjU0ZDVhM2RjZWQyYzk5OGVjNWI1YTkxMDI2MDcwNSIsInN1YiI6IjY1YzIyNWZhZmM1ZjA2MDE2OGM1MWM0NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1kpcuKWuntdsHi3r1Ec93wMxxOlDyIbChH1PpNf_-gY",u=s.Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:c,bearer:o}}),h=function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.get("/trending/movie/day",{headers:{Authorization:"Bearer ".concat(o)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){var r={headers:{Authorization:"Bearer ".concat(o)},params:{query:e}};return u.get("/search/movie",r)},m=function(e){return u.get("/movie/".concat(e),{params:{api_key:c}},{headers:{Authorization:"Bearer ".concat(o)}})},v=function(e){return u.get("/movie/".concat(e,"/credits"),{params:{api_key:c},headers:{Authorization:"Bearer ".concat(o)}})},f=function(e){return u.get("/movie/".concat(e,"/reviews"),{params:{api_key:c}},{headers:{Authorization:"Bearer ".concat(o)}})}},754:function(e,r,t){t.r(r),t.d(r,{default:function(){return M}});var n=t(671),a=t(144),i=t(136),s=t(104),c=t(791),o=t(184),u=function(e){(0,i.Z)(t,e);var r=(0,s.Z)(t);function t(e){var a;return(0,n.Z)(this,t),(a=r.call(this,e)).state={hasError:!1},a}return(0,a.Z)(t,[{key:"componentDidCatch",value:function(e,r){console.error("Error caught by error boundary:",e,r)}},{key:"render",value:function(){return this.state.hasError?(0,o.jsx)("h1",{children:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(c.Component),h=t(861),l=t(439),m=t(757),v=t.n(m),f=t(87),p=t(713),d=t(655),_="movies_movie_wrapper__wS+n-",x="movies_error__4DdxU",y="movies_forma_movies__Jyfmg",j="movies_searchForm__Nxjzr",k="movies_searchFormButton__LMUFB",b="movies_searchFormInput__D2IwC",Z=t(689),N="movieList_movie_list__0BjYE",w="movieList_movie_list_body__LvkNS",I="movieList_movie_link__nt9Wd",g=function(e){var r=e.movies,t=(0,Z.TH)();return(0,o.jsx)("ol",{className:N,children:r.map((function(e){var r=e.id,n=e.title;return(0,o.jsx)("li",{className:w,children:(0,o.jsx)(f.rU,{className:I,to:"/movies/".concat(r),state:{from:t},children:n})},r)}))})},D=function(){var e=(0,c.useState)([]),r=(0,l.Z)(e,2),t=r[0],n=r[1],a=(0,c.useState)(!1),i=(0,l.Z)(a,2),s=i[0],u=i[1],m=(0,c.useState)(null),Z=(0,l.Z)(m,2),N=Z[0],w=Z[1],I=(0,f.lr)(),D=(0,l.Z)(I,2),M=D[0],z=D[1];(0,c.useEffect)((function(){var e=M.get("query")||"";if(!e)return w(null),void n([]);var r=function(){var e=(0,h.Z)(v().mark((function e(r){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,(0,p.HO)(r);case 4:0===(t=e.sent).data.results.length?(w("\u0412\u0438\u0431\u0430\u0447\u0442\u0435, \u0437\u0430 \u0432\u0430\u0448\u0438\u043c \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u0432\u0456\u0434\u0435\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"),n([])):(w(null),n(t.data.results)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),w(e.t0.message);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(r){return e.apply(this,arguments)}}();r(e)}),[M]);var B=function(){var e=(0,h.Z)(v().mark((function e(r){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=new FormData(r.target),n=t.get("search")){e.next=6;break}return w(),e.abrupt("return");case 6:z({query:n});case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:_,children:[(0,o.jsxs)("div",{className:y,children:[(0,o.jsxs)("form",{className:j,onSubmit:B,children:[(0,o.jsx)("div",{children:(0,o.jsx)("label",{children:(0,o.jsx)("input",{className:b,type:"text",name:"search",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u043b\u043e\u0432\u043e",autoFocus:!0})})}),(0,o.jsx)("button",{className:k,type:"submit",children:"\u041f\u043e\u0448\u0443\u043a"})]}),s&&(0,o.jsx)(d.Z,{}),N&&(0,o.jsx)("p",{className:x,children:N})]}),t&&(0,o.jsx)(g,{movies:t})]})},M=function(){return(0,o.jsx)(u,{children:(0,o.jsx)(D,{})})}}}]);
//# sourceMappingURL=754.805c6a4c.chunk.js.map