{"version":3,"file":"static/js/94.25940a18.chunk.js","mappings":"8SAEMA,EAAU,mCACVC,EACJ,sNAGIC,EAAWC,EAAAA,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CAAEC,QAASN,EAASO,OAAQN,KAGzBO,EAAiB,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAE,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAG,OAAA,SACxBd,EAASe,IAAI,sBAAuB,CACzCC,QAAS,CACPC,cAAc,UAADC,OAAYnB,OAE3B,wBAAAY,EAAAQ,OAAA,GAAAT,EAAA,KACH,kBAN6B,OAAAH,EAAAa,MAAA,KAAAC,UAAA,KAQjBC,EAAqB,SAAAC,GAChC,IAAMC,EAAU,CACdR,QAAS,CACPC,cAAc,UAADC,OAAYnB,IAE3BI,OAAQ,CACNoB,MAAOA,IAGX,OAAOvB,EAASe,IAAI,gBAAiBS,EACvC,EAEaC,EAAe,SAAAC,GAC1B,OAAO1B,EAASe,IAAI,UAADG,OACPQ,GACV,CACEvB,OAAQ,CACNC,QAASN,IAGb,CACEkB,QAAS,CACPC,cAAc,UAADC,OAAYnB,KAIjC,EAEa4B,EAAc,SAAAD,GACzB,OAAO1B,EAASe,IAAI,UAADG,OAAWQ,EAAQ,YAAY,CAChDvB,OAAQ,CACNC,QAASN,GAEXkB,QAAS,CACPC,cAAc,UAADC,OAAYnB,KAG/B,EAEa6B,EAAiB,SAAAF,GAC5B,OAAO1B,EAASe,IAAI,UAADG,OACPQ,EAAQ,YAClB,CACEvB,OAAQ,CACNC,QAASN,IAGb,CACEkB,QAAS,CACPC,cAAc,UAADC,OAAYnB,KAIjC,C,2ECxEA,EAA6B,8BAA7B,EAA6E,mCAA7E,EAA6H,8B,SCsB7H,EApBmB,SAAHQ,GAAoB,IAAdsB,EAAMtB,EAANsB,OACdC,GAAWC,EAAAA,EAAAA,MAEjB,OACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAeC,SAC3BN,EAAOO,KAAI,SAAAC,GAAA,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAK,OACtBP,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAoBC,UACjCH,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CACHP,UAAWC,EACXO,GAAE,WAAAvB,OAAaoB,GACfI,MAAO,CAAEC,KAAMb,GAAWK,SAEzBI,KANoCD,EAQpC,KAIb,C,4HCMA,EAzBmB,SAAAM,IAAAC,EAAAA,EAAAA,GAAAC,EAAAF,GAAA,IAAAG,GAAAC,EAAAA,EAAAA,GAAAF,GACjB,SAAAA,EAAYG,GAAQ,IAADC,EAEgB,OAFhBC,EAAAA,EAAAA,GAAA,KAAAL,IACjBI,EAAAH,EAAAK,KAAA,KAAMH,IACDP,MAAQ,CAAEW,UAAU,GAAQH,CACnC,CAIC,OAJAI,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,oBAAAC,MAMD,SAAkBC,EAAOC,GAEvBC,QAAQF,MAAM,kCAAmCA,EAAOC,EAC1D,GAAC,CAAAH,IAAA,SAAAC,MAED,WACE,OAAII,KAAKlB,MAAMW,UAEXrB,EAAAA,EAAAA,KAAA,MAAAG,SAAI,0SAIDyB,KAAKX,MAAMd,QACpB,IAAC,EAAAoB,IAAA,2BAAAC,MAjBD,SAAgCC,GAC9B,MAAO,CAAEJ,UAAU,EACrB,KAACP,CAAA,CARgB,CAASe,EAAAA,W,8DCD5B,EAAgC,8BAAhC,EAAsE,sBAAtE,EAA2G,6BAA3G,EAAqJ,2BAArJ,EAAmM,iCAAnM,EAAsP,gC,SCkFtP,EA3Ee,WACb,IAAAC,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCjC,EAAMmC,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAA8BJ,EAAAA,EAAAA,WAAS,GAAMK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAA0BR,EAAAA,EAAAA,UAAS,MAAKS,GAAAP,EAAAA,EAAAA,GAAAM,EAAA,GAAjCd,EAAKe,EAAA,GAAEC,EAAQD,EAAA,GACtBE,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAX,EAAAA,EAAAA,GAAAS,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,IAEpCG,EAAAA,EAAAA,YAAU,WACR,IAAMxD,EAAQsD,EAAa9D,IAAI,UAAY,GAE3C,IAAKQ,EAGH,OAFAkD,EAAS,WACTP,EAAU,IAIZ,IAAMc,EAAqB,eAAAzE,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMa,GAAK,IAAA0D,EAAA,OAAAxE,IAAAA,MAAA,SAAAE,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEpB,OAFoBF,EAAAC,KAAA,EAErC0D,GAAW,GAAM3D,EAAAE,KAAA,GACMS,EAAAA,EAAAA,IAAmBC,GAAO,KAAD,EACX,KAD/B0D,EAAQtE,EAAAuE,MACDC,KAAKC,QAAQC,QACxBZ,EAAS,mOACTP,EAAU,MAEVO,EAAS,MACTP,EAAUe,EAASE,KAAKC,UACzBzE,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAA2E,GAAA3E,EAAA,SAED8D,EAAS9D,EAAA2E,GAAMC,SAAS,QAEN,OAFM5E,EAAAC,KAAA,GAExB0D,GAAW,GAAO3D,EAAA6E,OAAA,6BAAA7E,EAAAQ,OAAA,GAAAT,EAAA,wBAErB,gBAhB0B+E,GAAA,OAAAlF,EAAAa,MAAA,KAAAC,UAAA,KAkB3B2D,EAAsBzD,EACxB,GAAG,CAACsD,IAEJ,IAAMa,EAAY,eAAArD,GAAA7B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkF,EAAMC,GAAC,IAAAC,EAAAtE,EAAA,OAAAd,IAAAA,MAAA,SAAAqF,GAAA,cAAAA,EAAAlF,KAAAkF,EAAAjF,MAAA,OAGW,GAFrC+E,EAAEG,iBACIF,EAAW,IAAIG,SAASJ,EAAEK,QAC1B1E,EAAQsE,EAAS9E,IAAI,UAEhB,CAAD+E,EAAAjF,KAAA,QACG,OAAX4D,IAAWqB,EAAAhF,OAAA,iBAGbgE,EAAgB,CAAEvD,MAAAA,IAAS,wBAAAuE,EAAA3E,OAAA,GAAAwE,EAAA,KAC5B,gBAViBO,GAAA,OAAA7D,EAAAjB,MAAA,KAAAC,UAAA,KAYlB,OACE8E,EAAAA,EAAAA,MAAA,OAAKlE,UAAWC,EAAkBC,SAAA,EAChCgE,EAAAA,EAAAA,MAAA,OAAKlE,UAAWC,EAAiBC,SAAA,EAC/BgE,EAAAA,EAAAA,MAAA,QAAMlE,UAAWC,EAAgBkE,SAAUV,EAAavD,SAAA,EACtDH,EAAAA,EAAAA,KAAA,OAAAG,UACEH,EAAAA,EAAAA,KAAA,SAAAG,UACEH,EAAAA,EAAAA,KAAA,SACEC,UAAWC,EACXmE,KAAK,OACLC,KAAK,SACLC,YAAY,4EACZC,WAAS,SAIfxE,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAAsBmE,KAAK,SAAQlE,SAAC,sCAIxDkC,IAAWrC,EAAAA,EAAAA,KAACyE,EAAAA,EAAM,IAClBhD,IAASzB,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAUC,SAAEsB,OAErC5B,IAAUG,EAAAA,EAAAA,KAAC0E,EAAAA,EAAU,CAAC7E,OAAQA,MAGrC,ECpEA,EARmB,WACjB,OACEG,EAAAA,EAAAA,KAACc,EAAa,CAAAX,UACZH,EAAAA,EAAAA,KAAC2E,EAAM,KAGb,C","sources":["api/api.js","webpack://react-homework-template/./src/components/MovieList/movieList.module.css?ccba","components/MovieList/MovieList.jsx","components/ErrorBoundary.jsx","webpack://react-homework-template/./src/components/Movies/movies.module.css?968c","components/Movies/Movies.jsx","page/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '0254d5a3dced2c998ec5b5a910260705';\nconst BEARER_TOKEN =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMjU0ZDVhM2RjZWQyYzk5OGVjNWI1YTkxMDI2MDcwNSIsInN1YiI6IjY1YzIyNWZhZmM1ZjA2MDE2OGM1MWM0NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1kpcuKWuntdsHi3r1Ec93wMxxOlDyIbChH1PpNf_-gY';\n// const accept= 'application/json';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: { api_key: API_KEY, bearer: BEARER_TOKEN },\n});\n\nexport const getTrendingMovies = async () => {\n  return instance.get('/trending/movie/day', {\n    headers: {\n      Authorization: `Bearer ${BEARER_TOKEN}`,\n    },\n  });\n};\n\nexport const getTrendingByQuery = query => {\n  const options = {\n    headers: {\n      Authorization: `Bearer ${BEARER_TOKEN}`,\n    },\n    params: {\n      query: query,\n    },\n  };\n  return instance.get('/search/movie', options);\n};\n\nexport const getMovieById = movie_id => {\n  return instance.get(\n    `/movie/${movie_id}`,\n    {\n      params: {\n        api_key: API_KEY,\n      },\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${BEARER_TOKEN}`,\n      },\n    }\n  );\n};\n\nexport const getCastById = movie_id => {\n  return instance.get(`/movie/${movie_id}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n    headers: {\n      Authorization: `Bearer ${BEARER_TOKEN}`,\n    },\n  });\n};\n\nexport const getReviewsById = movie_id => {\n  return instance.get(\n    `/movie/${movie_id}/reviews`,\n    {\n      params: {\n        api_key: API_KEY,\n      },\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${BEARER_TOKEN}`,\n      },\n    }\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movie_list\":\"movieList_movie_list__0BjYE\",\"movie_list_body\":\"movieList_movie_list_body__LvkNS\",\"movie_link\":\"movieList_movie_link__nt9Wd\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './movieList.module.css';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ol className={css.movie_list}>\n      {movies.map(({ id, title }) => (\n        <li className={css.movie_list_body} key={id}>\n          <Link\n            className={css.movie_link}\n            to={`/movies/${id}`}\n            state={{ from: location }}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ol>\n  );\n};\n\nexport default MoviesList;\n","import React, { Component } from 'react';\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // Можете додати код для логування помилки\n    console.error('Error caught by error boundary:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <h1>Щось пішло не так. Будь ласка, спробуйте оновити сторінку.</h1>\n      );\n    }\n\n    return this.props.children;\n  }\n}\nexport default ErrorBoundary;\n","// extracted by mini-css-extract-plugin\nexport default {\"movie_wrapper\":\"movies_movie_wrapper__wS+n-\",\"error\":\"movies_error__4DdxU\",\"forma_movies\":\"movies_forma_movies__Jyfmg\",\"searchForm\":\"movies_searchForm__Nxjzr\",\"searchFormButton\":\"movies_searchFormButton__LMUFB\",\"searchFormInput\":\"movies_searchFormInput__D2IwC\"};","import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nimport { getTrendingByQuery } from '../../api/api';\nimport Loader from 'components/Loader/Loader';\nimport css from './movies.module.css';\nimport MoviesList from 'components/MovieList/MovieList';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const query = searchParams.get('query') || '';\n\n    if (!query) {\n      setError(null);\n      setMovies([]);\n      return;\n    }\n\n    const fetchGetTrendingQuery = async query => {\n      try {\n        setLoading(true);\n        const response = await getTrendingByQuery(query);\n        if (response.data.results.length === 0) {\n          setError('Вибачте, за вашим запитом відео не знайдено');\n          setMovies([]);\n        } else {\n          setError(null);\n          setMovies(response.data.results);\n        }\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchGetTrendingQuery(query);\n  }, [searchParams]);\n\n  const onFormSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const query = formData.get('search');\n\n    if (!query) {\n      setError();\n      return;\n    }\n    setSearchParams({ query });\n  };\n\n  return (\n    <div className={css.movie_wrapper}>\n      <div className={css.forma_movies}>\n        <form className={css.searchForm} onSubmit={onFormSubmit}>\n          <div>\n            <label>\n              <input\n                className={css.searchFormInput}\n                type=\"text\"\n                name=\"search\"\n                placeholder=\"Введіть слово\"\n                autoFocus\n              />\n            </label>\n          </div>\n          <button className={css.searchFormButton} type=\"submit\">\n            Пошук\n          </button>\n        </form>\n        {loading && <Loader />}\n        {error && <p className={css.error}>{error}</p>}\n      </div>\n      {movies && <MoviesList movies={movies} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","import ErrorBoundary from 'components/ErrorBoundary';\nimport Movies from 'components/Movies/Movies';\n\n// import css from './movies-pages.module.css';\n\nconst MoviesPage = () => {\n  return (\n    <ErrorBoundary>\n      <Movies />\n    </ErrorBoundary>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["API_KEY","BEARER_TOKEN","instance","axios","baseURL","params","api_key","bearer","getTrendingMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","abrupt","get","headers","Authorization","concat","stop","apply","arguments","getTrendingByQuery","query","options","getMovieById","movie_id","getCastById","getReviewsById","movies","location","useLocation","_jsx","className","css","children","map","_ref2","id","title","Link","to","state","from","_Component","_inherits","ErrorBoundary","_super","_createSuper","props","_this","_classCallCheck","call","hasError","_createClass","key","value","error","errorInfo","console","this","Component","_useState","useState","_useState2","_slicedToArray","setMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","useEffect","fetchGetTrendingQuery","response","sent","data","results","length","t0","message","finish","_x","onFormSubmit","_callee2","e","formData","_context2","preventDefault","FormData","target","_x2","_jsxs","onSubmit","type","name","placeholder","autoFocus","Loader","MoviesList","Movies"],"sourceRoot":""}