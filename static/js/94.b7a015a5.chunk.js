"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[94],{713:function(e,r,t){t.d(r,{Df:function(){return h},HO:function(){return l},Ku:function(){return f},Pg:function(){return p},fI:function(){return d}});var n=t(861),a=t(757),c=t.n(a),s=t(340),u="0254d5a3dced2c998ec5b5a910260705",i="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMjU0ZDVhM2RjZWQyYzk5OGVjNWI1YTkxMDI2MDcwNSIsInN1YiI6IjY1YzIyNWZhZmM1ZjA2MDE2OGM1MWM0NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1kpcuKWuntdsHi3r1Ec93wMxxOlDyIbChH1PpNf_-gY",o=s.Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:u,bearer:i}}),h=function(){var e=(0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.get("/trending/movie/day",{headers:{Authorization:"Bearer ".concat(i)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){var r={headers:{Authorization:"Bearer ".concat(i)},params:{query:e}};return o.get("/search/movie",r)},p=function(e){return o.get("/movie/".concat(e),{params:{api_key:u}},{headers:{Authorization:"Bearer ".concat(i)}})},f=function(e){return o.get("/movie/".concat(e,"/credits"),{params:{api_key:u},headers:{Authorization:"Bearer ".concat(i)}})},d=function(e){return o.get("/movie/".concat(e,"/reviews"),{params:{api_key:u}},{headers:{Authorization:"Bearer ".concat(i)}})}},94:function(e,r,t){t.r(r),t.d(r,{default:function(){return Z}});var n=t(671),a=t(144),c=t(136),s=t(104),u=t(791),i=t(184),o=function(e){(0,c.Z)(t,e);var r=(0,s.Z)(t);function t(e){var a;return(0,n.Z)(this,t),(a=r.call(this,e)).state={hasError:!1},a}return(0,a.Z)(t,[{key:"componentDidCatch",value:function(e,r){console.error("Error caught by error boundary:",e,r)}},{key:"render",value:function(){return this.state.hasError?(0,i.jsx)("h1",{children:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(u.Component),h=t(861),l=t(439),p=t(757),f=t.n(p),d=t(689),m=t(87),v=t(713),x=t(655),y="movies_header__0Lom1",j="movies_searchForm__Nxjzr",k="movies_searchFormButton__LMUFB",_="movies_searchFormInput__D2IwC",b=function(){var e=(0,u.useState)([]),r=(0,l.Z)(e,2),t=r[0],n=r[1],a=(0,u.useState)(!1),c=(0,l.Z)(a,2),s=c[0],o=c[1],p=(0,u.useState)(null),b=(0,l.Z)(p,2),Z=b[0],g=b[1],I=(0,d.TH)();(0,u.useEffect)((function(){var e=new URLSearchParams(I.search).get("query")||"",r=function(){var e=(0,h.Z)(f().mark((function e(r){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,(0,v.HO)(r);case 4:0===(t=e.sent).data.results.length?g("\u0412\u0438\u0431\u0430\u0447\u0442\u0435, \u0437\u0430 \u0432\u0430\u0448\u0438\u043c \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u0432\u0456\u0434\u0435\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"):n(t.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(e.t0.message);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(r){return e.apply(this,arguments)}}();r(e)}),[I.search]);var w=function(){var e=(0,h.Z)(f().mark((function e(r){var t,a,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=new FormData(r.target),a=t.get("search")){e.next=6;break}return g("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443"),e.abrupt("return");case 6:return e.prev=6,o(!0),e.next=10,(0,v.HO)(a);case 10:0===(c=e.sent).data.results.length?g("\u0412\u0438\u0431\u0430\u0447\u0442\u0435, \u0437\u0430 \u0432\u0430\u0448\u0438\u043c \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u0432\u0456\u0434\u0435\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"):n(c.data.results),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),g(e.t0.message);case 17:return e.prev=17,o(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[6,14,17,20]])})));return function(r){return e.apply(this,arguments)}}();return(0,i.jsxs)("header",{className:y,children:[(0,i.jsxs)("form",{className:j,onSubmit:w,children:[(0,i.jsx)("div",{children:(0,i.jsx)("label",{children:(0,i.jsx)("input",{className:_,type:"text",name:"search",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u043b\u043e\u0432\u043e",autoFocus:!0})})}),(0,i.jsx)("button",{className:k,type:"submit",children:"\u041f\u043e\u0448\u0443\u043a"})]}),s&&(0,i.jsx)(x.Z,{}),Z&&(0,i.jsx)("p",{children:Z}),(0,i.jsx)("ol",{children:t.map((function(e){var r=e.id,t=e.title;return(0,i.jsx)("li",{children:(0,i.jsx)(m.rU,{to:"/movies/".concat(r),state:{from:I},children:t})},r)}))})]})},Z=function(){return(0,i.jsx)(o,{children:(0,i.jsx)(b,{})})}}}]);
//# sourceMappingURL=94.b7a015a5.chunk.js.map