"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[94],{713:function(e,r,t){t.d(r,{Df:function(){return h},HO:function(){return l},Ku:function(){return f},Pg:function(){return m},fI:function(){return p}});var n=t(861),a=t(757),s=t.n(a),c=t(340),i="0254d5a3dced2c998ec5b5a910260705",o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMjU0ZDVhM2RjZWQyYzk5OGVjNWI1YTkxMDI2MDcwNSIsInN1YiI6IjY1YzIyNWZhZmM1ZjA2MDE2OGM1MWM0NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1kpcuKWuntdsHi3r1Ec93wMxxOlDyIbChH1PpNf_-gY",u=c.Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:i,bearer:o}}),h=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.get("/trending/movie/day",{headers:{Authorization:"Bearer ".concat(o)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){var r={headers:{Authorization:"Bearer ".concat(o)},params:{query:e}};return u.get("/search/movie",r)},m=function(e){return u.get("/movie/".concat(e),{params:{api_key:i}},{headers:{Authorization:"Bearer ".concat(o)}})},f=function(e){return u.get("/movie/".concat(e,"/credits"),{params:{api_key:i},headers:{Authorization:"Bearer ".concat(o)}})},p=function(e){return u.get("/movie/".concat(e,"/reviews"),{params:{api_key:i}},{headers:{Authorization:"Bearer ".concat(o)}})}},94:function(e,r,t){t.r(r),t.d(r,{default:function(){return D}});var n=t(671),a=t(144),s=t(136),c=t(104),i=t(791),o=t(184),u=function(e){(0,s.Z)(t,e);var r=(0,c.Z)(t);function t(e){var a;return(0,n.Z)(this,t),(a=r.call(this,e)).state={hasError:!1},a}return(0,a.Z)(t,[{key:"componentDidCatch",value:function(e,r){console.error("Error caught by error boundary:",e,r)}},{key:"render",value:function(){return this.state.hasError?(0,o.jsx)("h1",{children:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(i.Component),h=t(861),l=t(439),m=t(757),f=t.n(m),p=t(689),v=t(87),d=t(713),_=t(655),x="movies_movie_wrapper__wS+n-",y="movies_error__4DdxU",j="movies_forma_movies__Jyfmg",k="movies_searchForm__Nxjzr",b="movies_searchFormButton__LMUFB",Z="movies_searchFormInput__D2IwC",g="movies_movie_list__dPuTn",w="movies_movie_list_body__A3guJ",I="movies_movie_link__JPyex",N=function(){var e=(0,i.useState)([]),r=(0,l.Z)(e,2),t=r[0],n=r[1],a=(0,i.useState)(!1),s=(0,l.Z)(a,2),c=s[0],u=s[1],m=(0,i.useState)(null),N=(0,l.Z)(m,2),D=N[0],J=N[1],M=(0,p.TH)(),z=(0,v.lr)(),C=(0,l.Z)(z,2),B=C[0],E=C[1];(0,i.useEffect)((function(){var e=B.get("query")||"";if(!e)return J(null),void n([]);var r=function(){var e=(0,h.Z)(f().mark((function e(r){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,(0,d.HO)(r);case 4:0===(t=e.sent).data.results.length?(J("\u0412\u0438\u0431\u0430\u0447\u0442\u0435, \u0437\u0430 \u0432\u0430\u0448\u0438\u043c \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u0432\u0456\u0434\u0435\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"),n([])):(J(null),n(t.data.results)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),J(e.t0.message);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(r){return e.apply(this,arguments)}}();r(e)}),[B]);var W=function(){var e=(0,h.Z)(f().mark((function e(r){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=new FormData(r.target),n=t.get("search")){e.next=6;break}return J(),e.abrupt("return");case 6:E({query:n});case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:x,children:[(0,o.jsxs)("div",{className:j,children:[(0,o.jsxs)("form",{className:k,onSubmit:W,children:[(0,o.jsx)("div",{children:(0,o.jsx)("label",{children:(0,o.jsx)("input",{className:Z,type:"text",name:"search",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u043b\u043e\u0432\u043e",autoFocus:!0})})}),(0,o.jsx)("button",{className:b,type:"submit",children:"\u041f\u043e\u0448\u0443\u043a"})]}),c&&(0,o.jsx)(_.Z,{}),D&&(0,o.jsx)("p",{className:y,children:D})]}),(0,o.jsx)("ol",{className:g,children:t.map((function(e){var r=e.id,t=e.title;return(0,o.jsx)("li",{className:w,children:(0,o.jsx)(v.rU,{className:I,to:"/movies/".concat(r),state:{from:M},children:t})},r)}))})]})},D=function(){return(0,o.jsx)(u,{children:(0,o.jsx)(N,{})})}}}]);
//# sourceMappingURL=94.fdcdea61.chunk.js.map